{"remainingRequest":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\CodePath\\项目实战\\code\\vue-shop2\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\src\\components\\Login.vue","mtime":1603846204470},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOeZu+mZhuihqOWNleeahOaVsOaNruWvueixoQ0KICAgICAgbG9naW5Gb3JtOiB7DQogICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLA0KICAgICAgICBwYXNzd29yZDogIjEyMzQ1NiIsDQogICAgICB9LA0KICAgICAgLy8gICDooajljZXnmoTpqozor4Hop4TliJnlr7nosaENCiAgICAgIGxvZ2luRm9ybVJ1bGVzOiB7DQogICAgICAgIC8vICAg6aqM6K+B55So5oi35ZCN5piv5ZCm5ZCI5rOVDQogICAgICAgIHVzZXJuYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpea0u+WKqOeUqOaIt+WQjSIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICAgIHsgbWluOiAzLCBtYXg6IDE1LCBtZXNzYWdlOiAi6ZW/5bqm5ZyoIDMg5YiwIDE1IOS4quWtl+espiIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICAvLyDpqozor4Hlr4bnoIHmmK/lkKblkIjms5UNCiAgICAgICAgcGFzc3dvcmQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5a+G56CBIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgeyBtaW46IDYsIG1heDogMTAsIG1lc3NhZ2U6ICLplb/luqblnKggNiDliLAgMTAg5Liq5a2X56ymIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6ew0KICAgIC8vICAg6YeN572u5oyJ6ZKuDQogICAgICByZXNldExvZ2luRm9ybSgpew0KICAgICAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtUmVmLnJlc2V0RmllbGRzKCkNCiAgICAgIH0sDQogICAgLy8gICDnmbvpmYbmjInpkq4NCiAgICAgIGxvZ2luKCl7DQogICAgICAgIC8vICAg55m76ZmG5LmL5YmN55qE6aKE6aqM6K+BDQogICAgICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm1SZWYudmFsaWRhdGUoYXN5bmMgdmFsaWQ9PnsNCiAgICAgICAgICAgICAgaWYoIXZhbGlkKSByZXR1cm4NCiAgICAgICAgICAgICAgY29uc3R7ZGF0YTpyZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCdsb2dpbicsdGhpcy5sb2dpbkZvcm0pDQogICAgICAgICAgICAgIGlmKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign55m76ZmG5aSx6LSlJyk7DQogICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnmbvpmYbmiJDlip8nKQ0KICAgICAgICAgICAgLy8gMS7lsIbnmbvpmYbmiJDlip/kuYvlkI7nmoR0b2tlbu+8jOS/neWtmOWIsOWuouaIt+err+eahHNlc3Npb25TdG9yYWdlDQogICAgICAgICAgICAgICAvLzEuMSDpobnnm67kuK3pmaTkuobnmbvpmYbkuYvlpJbnmoRBUEnmjqXlj6PvvIzlv4XpobvlnKjnmbvpmYbkuYvlkI7miY3og73orr/pl64NCiAgICAgICAgICAgICAgIC8vMS4yIHRva2Vu5Y+q5bqU5Zyo5b2T5YmN572R56uZ5omT5byA5pyf6Ze055Sf5pWI77yM5omA5Lul5bCGdG9rZW7kv53lrZjlnKhzZXNzaW9uU3RvcmFnZeS4rQ0KICAgICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJyxyZXMuZGF0YS50b2tlbikNCiAgICAgICAgICAgIC8vIDIuIOmAmui/h+e8lueoi+W8j+WvvOiIqui3s+i9rOWIsOWQjuWPsOS4u+mhte+8jOi3r+eUseWcsOWdgOaYry9ob21lDQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKQ0KICAgICAgICAgIH0pDQogICAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"login_container\">\r\n    <div class=\"login_box\">\r\n      <!-- 头像区 -->\r\n      <div class=\"avatar_box\">\r\n        <img src=\"../assets/logo.png\" alt=\"\" />\r\n      </div>\r\n      <!-- 登陆表单区域 -->\r\n      <el-form class=\"login_form\" :model=\"loginForm\" :rules=\"loginFormRules\" ref=\"loginFormRef\">\r\n        <!-- 用户名 -->\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            prefix-icon=\"iconfont icon-user\"\r\n            v-model=\"loginForm.username\"\r\n            \r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            prefix-icon=\"iconfont icon-lock_fill\"\r\n            v-model=\"loginForm.password\"\r\n            type=\"password\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 按钮区域 -->\r\n        <el-form-item class=\"btns\">\r\n          <el-button type=\"primary\" @click=\"login\">登陆</el-button>\r\n          <el-button type=\"info\" @click=\"resetLoginForm\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 登陆表单的数据对象\r\n      loginForm: {\r\n        username: \"admin\",\r\n        password: \"123456\",\r\n      },\r\n      //   表单的验证规则对象\r\n      loginFormRules: {\r\n        //   验证用户名是否合法\r\n        username: [\r\n          { required: true, message: \"请输入活动用户名\", trigger: \"blur\" },\r\n          { min: 3, max: 15, message: \"长度在 3 到 15 个字符\", trigger: \"blur\" },\r\n        ],\r\n        // 验证密码是否合法\r\n        password: [\r\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          { min: 6, max: 10, message: \"长度在 6 到 10 个字符\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods:{\r\n    //   重置按钮\r\n      resetLoginForm(){\r\n          this.$refs.loginFormRef.resetFields()\r\n      },\r\n    //   登陆按钮\r\n      login(){\r\n        //   登陆之前的预验证\r\n          this.$refs.loginFormRef.validate(async valid=>{\r\n              if(!valid) return\r\n              const{data:res} = await this.$http.post('login',this.loginForm)\r\n              if(res.meta.status !== 200) return this.$message.error('登陆失败');\r\n             this.$message.success('登陆成功')\r\n            // 1.将登陆成功之后的token，保存到客户端的sessionStorage\r\n               //1.1 项目中除了登陆之外的API接口，必须在登陆之后才能访问\r\n               //1.2 token只应在当前网站打开期间生效，所以将token保存在sessionStorage中\r\n            window.sessionStorage.setItem('token',res.data.token)\r\n            // 2. 通过编程式导航跳转到后台主页，路由地址是/home\r\n            this.$router.push('/home')\r\n          })\r\n      }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.login_container {\r\n  background-color: #2b4b6b;\r\n  height: 100%;\r\n}\r\n.login_box {\r\n  width: 450px;\r\n  height: 300px;\r\n  background-color: #ffffff;\r\n  border-radius: 3px;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  .avatar_box {\r\n    height: 130px;\r\n    width: 130px;\r\n    border: solid 1px #eeeeee;\r\n    border-radius: 50%;\r\n    padding: 10px;\r\n    box-shadow: 0 0 10px #dddddd;\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    background-color: #ffffff;\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n      border-radius: 50%;\r\n      background-color: #eeeeee;\r\n    }\r\n  }\r\n}\r\n\r\n.login_form {\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  padding: 0px 20px;\r\n  box-sizing: border-box;\r\n}\r\n.btns {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n</style>"]}]}