{"remainingRequest":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\CodePath\\项目实战\\code\\vue-shop2\\src\\components\\user\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\src\\components\\user\\Users.vue","mtime":1603934888080},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgLy/mo4Dmn6Xpgq7nrrHnmoTop4TliJkNCiAgICB2YXIgY2hlY2tFbWFpbCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIC8vIOajgOmqjOmCrueuseeahOato+WImeihqOi+vuW8jw0KICAgICAgY29uc3QgcmVnRW1haWwgPSAvXihbYS16QS1aMC05Xy1dKStAKFthLXpBLVowLTlfLV0pKyhcLlthLXpBLVowLTlfLV0pKy87DQogICAgICBpZiAocmVnRW1haWwudGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgLy8gIOWQiOazleeahOmCrueusQ0KICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5ZCI5rOV55qE6YKu566xIikpOw0KICAgIH07DQogICAgLy/mo4Dmn6XmiYvmnLrlj7fnmoTop4TliJkNCiAgICB2YXIgY2hlY2tNb2JpbGUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBjb25zdCByZWdNb2JpbGUgPSAvXlsxXVszLDQsNSw3LDhdWzAtOV17OX0kLzsNCiAgICAgIGlmIChyZWdNb2JpbGUudGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgLy8gIOWQiOazleeahOaJi+acuuWPtw0KICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5ZCI5rOV55qE5omL5py65Y+3IikpOw0KICAgIH07DQoNCiAgICByZXR1cm4gew0KICAgICAgLy8g6I635Y+W55So5oi35YiX6KGo55qE5Y+C5pWw5a+56LGhDQogICAgICBxdWVyeUluZm86IHsNCiAgICAgICAgcXVlcnk6ICIiLA0KICAgICAgICAvLyDlvZPliY3pobXmlbANCiAgICAgICAgcGFnZW51bTogMSwNCiAgICAgICAgLy8g5b2T5YmN5aSa5bCR5p2h5pWw5o2uDQogICAgICAgIHBhZ2VzaXplOiAyLA0KICAgICAgfSwNCiAgICAgIHVzZXJsaXN0OiBbXSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgLy8gICDkv67mlLnnlKjmiLflr7nor53moYbnmoTmmL7npLrkuI7pmpDol48NCiAgICAgIGVkaXREaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8vICAg5re75Yqg55So5oi35a+56K+d5qGG55qE5pi+56S65LiO6ZqQ6JePDQogICAgICBhZGREaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8vICAg5re75Yqg55So5oi355qE6KGo5Y2V5pWw5o2uDQogICAgICBhZGRGb3JtOiB7DQogICAgICAgIGlkOiAiIiwNCiAgICAgICAgdXNlcm5hbWU6ICIiLA0KICAgICAgICBwYXNzd29yZDogIiIsDQogICAgICAgIGVtYWlsOiAiIiwNCiAgICAgICAgbW9iaWxlOiAiIiwNCiAgICAgIH0sDQogICAgICAvLyAgIOa3u+WKoOihqOWNleeahOmqjOivgeinhOWImeWvueixoQ0KICAgICAgYWRkRm9ybVJ1bGVzOiB7DQogICAgICAgIHVzZXJuYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeeUqOaIt+WQjSIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICAgIHsgbWluOiAzLCBtYXg6IDUsIG1lc3NhZ2U6ICLplb/luqblnKggMyDliLAgNSDkuKrlrZfnrKYiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgcGFzc3dvcmQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5a+G56CBIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgeyBtaW46IDMsIG1heDogNSwgbWVzc2FnZTogIumVv+W6puWcqCAzIOWIsCA1IOS4quWtl+espiIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBlbWFpbDogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXpgq7nrrEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgICB7IHZhbGlkYXRvcjogY2hlY2tFbWFpbCwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgIF0sDQogICAgICAgIG1vYmlsZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXmiYvmnLrlj7ciLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgICB7IHZhbGlkYXRvcjogY2hlY2tNb2JpbGUsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgfSwNCiAgICAgIGVkaXRGb3JtOiB7DQogICAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICBtb2JpbGU6ICIiLA0KICAgICAgfSwNCiAgICAgIC8vICAg5re75Yqg6KGo5Y2V55qE6aqM6K+B6KeE5YiZ5a+56LGhDQogICAgICBlZGl0Rm9ybVJ1bGVzOiB7DQogICAgICAgIHVzZXJuYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeeUqOaIt+WQjSIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICAgIHsgbWluOiAzLCBtYXg6IDUsIG1lc3NhZ2U6ICLplb/luqblnKggMyDliLAgNSDkuKrlrZfnrKYiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgZW1haWw6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6YKu566xIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgeyB2YWxpZGF0b3I6IGNoZWNrRW1haWwsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBtb2JpbGU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5omL5py65Y+3IiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgeyB2YWxpZGF0b3I6IGNoZWNrTW9iaWxlLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgICAvLyDmjqfliLbliIbphY3op5LoibLlr7nor53moYbnmoTmmL7npLrkuI7pmpDol48NCiAgICAgIHNldFJvbGVEaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8vIOmcgOimgeiiq+WIhumFjeinkuiJsueahOS/oeaBr+eUqOaItw0KICAgICAgdXNlckluZm86IHt9LA0KICAgICAgLy8g5omA5pyJ5pWw5o2u5YiX6KGoDQogICAgICByb2xlbGlzdDogW10sDQogICAgICAvLyDlt7LpgInkuK3nmoRpZOWAvA0KICAgICAgc2VsZWN0Um9sZUlkOiAiIiwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0VXNlcnNMaXN0KCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyAg6I635Y+W55So5oi35YiX6KGoDQogICAgYXN5bmMgZ2V0VXNlcnNMaXN0KCkgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCJ1c2VycyIsIHsNCiAgICAgICAgcGFyYW1zOiB0aGlzLnF1ZXJ5SW5mbywNCiAgICAgIH0pOw0KICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKQ0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W55So5oi35L+h5oGv5aSx6LSlIik7DQogICAgICB0aGlzLnVzZXJsaXN0ID0gcmVzLmRhdGEudXNlcnM7DQogICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7DQogICAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMudXNlcmxpc3QpOw0KICAgIH0sDQogICAgLy8g55uR5ZCscGFnZXNpemUNCiAgICBoYW5kbGVTaXplQ2hhbmdlKG5ld1BhZ2VTaXplKSB7DQogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlc2l6ZSA9IG5ld1BhZ2VTaXplOw0KICAgICAgdGhpcy5nZXRVc2Vyc0xpc3QoKTsNCiAgICB9LA0KICAgIC8vIOebkeWQrHBhZ2VudW0NCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG5ld1BhZ2VOdW0pIHsNCiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VudW0gPSBuZXdQYWdlTnVtOw0KICAgICAgdGhpcy5nZXRVc2Vyc0xpc3QoKTsNCiAgICB9LA0KICAgIC8vIOebkeinhnN3aXRjaOW8gOWFs+eahOWPmOWMlg0KICAgIGFzeW5jIHVzZXJTdGF0ZUNoYW5nZWQodXNlckluZm8pIHsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnB1dCgNCiAgICAgICAgYHVzZXJzLyR7dXNlckluZm8uaWR9L3N0YXRlLyR7dXNlckluZm8ubWdfc3RhdGV9YA0KICAgICAgKTsNCiAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgew0KICAgICAgICB1c2VySW5mby5tZ19zdGF0ZSA9ICF1c2VySW5mby5tZ19zdGF0ZTsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuabtOaWsOeUqOaIt+eKtuaAgeWksei0pSIpOw0KICAgICAgfQ0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmm7TmlrDnlKjmiLfnirbmgIHmiJDlip8iKTsNCiAgICB9LA0KICAgIC8vIOebkeWQrOa3u+WKoOeUqOaIt+WvueivneahhueahOWFs+mXreS6i+S7tg0KICAgIGFkZERpYWxvZ0Nsb3NlZCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi5yZXNldEZpZWxkcygpOw0KICAgIH0sDQogICAgLy8g54K55Ye75oyJ6ZKu77yM5re75Yqg55So5oi3DQogICAgYWRkVXNlcigpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFkZEZvcm0pOw0KICAgICAgICAvLyDlj5HotbfnvZHnu5zor7fmsYI7DQogICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoInVzZXJzIiwgdGhpcy5hZGRGb3JtKTsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAxKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5re75Yqg55So5oi35aSx6LSlIik7DQoNCiAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICAgIHRoaXMuZ2V0VXNlcnNMaXN0KCk7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg55So5oi35oiQ5YqfIik7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOWxleekuue8lui+keeahOWvueivneahhg0KICAgIGFzeW5jIHNob3dFZGl0RGlhbG9nKGlkKSB7DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYHVzZXJzLyR7aWR9YCk7DQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuafpeivoueUqOaIt+S/oeaBr+Wksei0pSIpOw0KICAgICAgfQ0KICAgICAgLy8gICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+afpeivoueUqOaIt+S/oeaBr+aIkOWKnycpDQogICAgICB0aGlzLmVkaXRGb3JtID0gcmVzLmRhdGE7DQoNCiAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLy8g55uR5ZCs5L+u5pS555So5oi35a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2DQogICAgZWRpdERpYWxvZ0Nsb3NlZCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm1SZWYucmVzZXRGaWVsZHMoKTsNCiAgICB9LA0KICAgIC8vIOS/ruaUueeUqOaIt+S/oeaBr+W5tuaPkOS6pA0KICAgIGVkaXRVc2VyKCkgew0KICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOw0KICAgICAgICAvLyDkv67mlLnnlKjmiLfkv6Hmga/nmoTmlbDmja7or7fmsYINCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KA0KICAgICAgICAgIGB1c2Vycy8ke3RoaXMuZWRpdEZvcm0uaWR9YCwNCiAgICAgICAgICB7DQogICAgICAgICAgICBlbWFpbDogdGhpcy5lZGl0Rm9ybS5lbWFpbCwNCiAgICAgICAgICAgIG1vYmlsZTogdGhpcy5lZGl0Rm9ybS5tb2JpbGUsDQogICAgICAgICAgfQ0KICAgICAgICApOw0KICAgICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApDQogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuabtOaWsOeUqOaIt+S/oeaBr+Wksei0pSIpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5nZXRVc2Vyc0xpc3QoKTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmm7TmlrDnlKjmiLfkv6Hmga/miJDlip8iKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy8g5qC55o2uaWTliKDpmaTlr7nlupTnmoTlgLwNCiAgICBhc3luYyByZW1vdmVVc2VyQnlJZChpZCkgew0KICAgICAgLy8g6L+U5Zue55qE5piv5Liq5paH5pysDQogICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gYXdhaXQgdGhpcy4kY29uZmlybSgNCiAgICAgICAgIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeeUqOaItywg5piv5ZCm57un57utPyIsDQogICAgICAgICLmj5DnpLoiLA0KICAgICAgICB7DQogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLA0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfQ0KICAgICAgKS5jYXRjaCgoZXJyKSA9PiBlcnIpOw0KICAgICAgaWYgKGNvbmZpcm1SZXN1bHQgIT09ICJjb25maXJtIikNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuaW5mbygi5bey57uP5Y+W5raI5Yig6ZmkIik7DQogICAgICAvLyBjb25zb2xlLmxvZygn56Gu6K6k5LqG5Yig6ZmkJyk7DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5kZWxldGUoYHVzZXJzLyR7aWR9YCk7DQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTnlKjmiLflpLHotKUiKTsNCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk55So5oi35oiQ5YqfIik7DQogICAgICB0aGlzLmdldFVzZXJzTGlzdCgpOw0KICAgIH0sDQogICAgLy8g5YiG6YWN6KeS6Imy5a+56K+d5qGGDQogICAgYXN5bmMgc2V0Um9sZSh1c2VySW5mbykgew0KICAgICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvOw0KICAgICAgLy8g5Zyo5bGV56S65a+56K+d5qGG5LmL5YmN6I635Y+W5omA5pyJ5YiX6KGoDQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoInJvbGVzIik7DQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApDQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bop5LoibLliJfooajlpLHotKUiKTsNCg0KICAgICAgdGhpcy5yb2xlbGlzdCA9IHJlcy5kYXRhOw0KICAgICAgdGhpcy5zZXRSb2xlRGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgICAvLyDngrnlh7vmjInpkq7liIbphY3op5LoibINCiAgICBhc3luYyBzYXZlUm9sZUluZm8oKSB7DQogICAgICBpZiAoIXRoaXMuc2VsZWN0Um9sZUlkKQ0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36YCJ5oup6KaB5YiG6YWN55qE5paw6KeS6ImyIik7DQogICAgICBjb25zdCB7DQogICAgICAgIGRhdGE6IHJlcywNCiAgICAgIH0gPSBhd2FpdCB0aGlzLiRodHRwLnB1dChgdXNlcnMvJHt0aGlzLnVzZXJJbmZvLmlkfS9yb2xlYCwgew0KICAgICAgICByaWQ6IHRoaXMuc2VsZWN0Um9sZUlkLA0KICAgICAgfSk7DQogICAgICBpZihyZXMubWV0YS5zdGF0dXMhPT0yMDApcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+abtOaWsOinkuiJsuWksei0pScpDQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+abtOaWsOinkuiJsuaIkOWKnycpDQogICAgICB0aGlzLmdldFVzZXJzTGlzdCgpDQogICAgICB0aGlzLnNldFJvbGVEaWFsb2dWaXNpYmxlPWZhbHNlDQogICAgfSwNCiAgICAvLyDnm5HlkKzliIbphY3op5LoibLlr7nor53moYbnmoTlhbPpl63kuovku7YNCiAgICBzZXRSb2xlRGlhbG9nQ2xvc2VkKCl7DQogICAgICB0aGlzLnNlbGVjdFJvbGVJZD0nJw0KICAgICAgdGhpcy51c2VySW5mbz17fQ0KICAgIH0NCiAgfSwNCn07DQo="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Users.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片区域 -->\r\n    <el-card class=\"box-card\">\r\n      <el-row :gutter=\"20\">\r\n        <!-- 搜索框区域 -->\r\n        <el-col :span=\"8\">\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"queryInfo.query\"\r\n            clearable\r\n            @clear=\"getUsersList\"\r\n          >\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              @click=\"getUsersList\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <!-- 添加用户按钮区域 -->\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\"\r\n            >添加用户</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 用户数据表格区域 -->\r\n      <el-table :data=\"userlist\" stripe border>\r\n        <!-- 索引列 -->\r\n        <el-table-column type=\"index\" label=\"#\"> </el-table-column>\r\n\r\n        <el-table-column prop=\"username\" label=\"姓名\"> </el-table-column>\r\n        <el-table-column prop=\"email\" label=\"邮箱\"> </el-table-column>\r\n        <el-table-column prop=\"mobile\" label=\"电话\"> </el-table-column>\r\n        <el-table-column prop=\"role_name\" label=\"角色\"> </el-table-column>\r\n        <el-table-column label=\"状态\">\r\n          <template slot-scope=\"scope\">\r\n            <el-switch\r\n              v-model=\"scope.row.mg_state\"\r\n              @change=\"userStateChanged(scope.row)\"\r\n            >\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"200px\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"showEditDialog(scope.row.id)\"\r\n            ></el-button>\r\n            <!-- 删除按钮 -->\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"removeUserById(scope.row.id)\"\r\n            ></el-button>\r\n\r\n            <!-- 分配角色按钮 -->\r\n            <el-tooltip\r\n              effect=\"dark\"\r\n              content=\"分配角色\"\r\n              placement=\"top\"\r\n              :enterable=\"false\"\r\n            >\r\n              <el-button\r\n                type=\"warning\"\r\n                icon=\"el-icon-setting\"\r\n                size=\"mini\"\r\n                @click=\"setRole(scope.row)\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页区域 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pagenum\"\r\n        :page-sizes=\"[3, 5, 10, 15]\"\r\n        :page-size=\"queryInfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n\r\n    <!-- 添加用户对话框 -->\r\n\r\n    <el-dialog\r\n      title=\"添加用户\"\r\n      :visible.sync=\"addDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"addDialogClosed\"\r\n    >\r\n      <!-- 内容主体区域 -->\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        ref=\"addFormRef\"\r\n        label-width=\"70px\"\r\n      >\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"addForm.password\"> </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <!-- 底部区域 -->\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 修改对话框 -->\r\n    <el-dialog\r\n      title=\"修改用户\"\r\n      :visible.sync=\"editDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"editDialogClosed\"\r\n    >\r\n      <el-form\r\n        :model=\"editForm\"\r\n        :rules=\"editFormRules\"\r\n        ref=\"editFormRef\"\r\n        label-width=\"70px\"\r\n      >\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"editForm.username\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"editForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\" prop=\"mobile\">\r\n          <el-input v-model=\"editForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 分配角色的对话框 -->\r\n    <el-dialog\r\n      title=\"分配角色\"\r\n      :visible.sync=\"setRoleDialogVisible\"\r\n      width=\"30%\"\r\n      @close='setRoleDialogClosed'\r\n    >\r\n      <div>\r\n        <p>当前的用户：{{ userInfo.username }}</p>\r\n        <p>当前的角色：{{ userInfo.role_name }}</p>\r\n        <p>\r\n          分配新的角色：<el-select v-model=\"selectRoleId\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in rolelist\"\r\n              :key=\"item.id\"\r\n              :label=\"item.roleName\"\r\n              :value=\"item.id\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </p>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"setRoleDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveRoleInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    //检查邮箱的规则\r\n    var checkEmail = (rule, value, callback) => {\r\n      // 检验邮箱的正则表达式\r\n      const regEmail = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\\.[a-zA-Z0-9_-])+/;\r\n      if (regEmail.test(value)) {\r\n        //  合法的邮箱\r\n        return callback();\r\n      }\r\n      callback(new Error(\"请输入合法的邮箱\"));\r\n    };\r\n    //检查手机号的规则\r\n    var checkMobile = (rule, value, callback) => {\r\n      const regMobile = /^[1][3,4,5,7,8][0-9]{9}$/;\r\n      if (regMobile.test(value)) {\r\n        //  合法的手机号\r\n        return callback();\r\n      }\r\n      callback(new Error(\"请输入合法的手机号\"));\r\n    };\r\n\r\n    return {\r\n      // 获取用户列表的参数对象\r\n      queryInfo: {\r\n        query: \"\",\r\n        // 当前页数\r\n        pagenum: 1,\r\n        // 当前多少条数据\r\n        pagesize: 2,\r\n      },\r\n      userlist: [],\r\n      total: 0,\r\n      //   修改用户对话框的显示与隐藏\r\n      editDialogVisible: false,\r\n      //   添加用户对话框的显示与隐藏\r\n      addDialogVisible: false,\r\n      //   添加用户的表单数据\r\n      addForm: {\r\n        id: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n        email: \"\",\r\n        mobile: \"\",\r\n      },\r\n      //   添加表单的验证规则对象\r\n      addFormRules: {\r\n        username: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          { min: 3, max: 5, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" },\r\n        ],\r\n        password: [\r\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          { min: 3, max: 5, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" },\r\n        ],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\r\n          { validator: checkEmail, trigger: \"blur\" },\r\n        ],\r\n        mobile: [\r\n          { required: true, message: \"请输入手机号\", trigger: \"blur\" },\r\n          { validator: checkMobile, trigger: \"blur\" },\r\n        ],\r\n      },\r\n      editForm: {\r\n        username: \"\",\r\n        email: \"\",\r\n        mobile: \"\",\r\n      },\r\n      //   添加表单的验证规则对象\r\n      editFormRules: {\r\n        username: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          { min: 3, max: 5, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" },\r\n        ],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\r\n          { validator: checkEmail, trigger: \"blur\" },\r\n        ],\r\n        mobile: [\r\n          { required: true, message: \"请输入手机号\", trigger: \"blur\" },\r\n          { validator: checkMobile, trigger: \"blur\" },\r\n        ],\r\n      },\r\n      // 控制分配角色对话框的显示与隐藏\r\n      setRoleDialogVisible: false,\r\n      // 需要被分配角色的信息用户\r\n      userInfo: {},\r\n      // 所有数据列表\r\n      rolelist: [],\r\n      // 已选中的id值\r\n      selectRoleId: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.getUsersList();\r\n  },\r\n  methods: {\r\n    //  获取用户列表\r\n    async getUsersList() {\r\n      const { data: res } = await this.$http.get(\"users\", {\r\n        params: this.queryInfo,\r\n      });\r\n      if (res.meta.status !== 200)\r\n        return this.$message.error(\"获取用户信息失败\");\r\n      this.userlist = res.data.users;\r\n      this.total = res.data.total;\r\n      //   console.log(this.userlist);\r\n    },\r\n    // 监听pagesize\r\n    handleSizeChange(newPageSize) {\r\n      this.queryInfo.pagesize = newPageSize;\r\n      this.getUsersList();\r\n    },\r\n    // 监听pagenum\r\n    handleCurrentChange(newPageNum) {\r\n      this.queryInfo.pagenum = newPageNum;\r\n      this.getUsersList();\r\n    },\r\n    // 监视switch开关的变化\r\n    async userStateChanged(userInfo) {\r\n      const { data: res } = await this.$http.put(\r\n        `users/${userInfo.id}/state/${userInfo.mg_state}`\r\n      );\r\n      if (res.meta.status !== 200) {\r\n        userInfo.mg_state = !userInfo.mg_state;\r\n        return this.$message.error(\"更新用户状态失败\");\r\n      }\r\n      this.$message.success(\"更新用户状态成功\");\r\n    },\r\n    // 监听添加用户对话框的关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields();\r\n    },\r\n    // 点击按钮，添加用户\r\n    addUser() {\r\n      this.$refs.addFormRef.validate(async (valid) => {\r\n        if (!valid) return;\r\n        console.log(this.addForm);\r\n        // 发起网络请求;\r\n        const { data: res } = await this.$http.post(\"users\", this.addForm);\r\n        console.log(res);\r\n        if (res.meta.status !== 201) return this.$message.error(\"添加用户失败\");\r\n\r\n        this.addDialogVisible = false;\r\n        this.getUsersList();\r\n        this.$message.success(\"添加用户成功\");\r\n      });\r\n    },\r\n    // 展示编辑的对话框\r\n    async showEditDialog(id) {\r\n      const { data: res } = await this.$http.get(`users/${id}`);\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error(\"查询用户信息失败\");\r\n      }\r\n      //   this.$message.success('查询用户信息成功')\r\n      this.editForm = res.data;\r\n\r\n      this.editDialogVisible = true;\r\n    },\r\n    // 监听修改用户对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields();\r\n    },\r\n    // 修改用户信息并提交\r\n    editUser() {\r\n      this.$refs.editFormRef.validate(async (valid) => {\r\n        if (!valid) return;\r\n        // 修改用户信息的数据请求\r\n        const { data: res } = await this.$http.put(\r\n          `users/${this.editForm.id}`,\r\n          {\r\n            email: this.editForm.email,\r\n            mobile: this.editForm.mobile,\r\n          }\r\n        );\r\n        if (res.meta.status !== 200)\r\n          return this.$message.error(\"更新用户信息失败\");\r\n        // console.log(res.data);\r\n        this.editDialogVisible = false;\r\n        this.getUsersList();\r\n        this.$message.success(\"更新用户信息成功\");\r\n      });\r\n    },\r\n    // 根据id删除对应的值\r\n    async removeUserById(id) {\r\n      // 返回的是个文本\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将永久删除该用户, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n      if (confirmResult !== \"confirm\")\r\n        return this.$message.info(\"已经取消删除\");\r\n      // console.log('确认了删除');\r\n      const { data: res } = await this.$http.delete(`users/${id}`);\r\n      if (res.meta.status !== 200) return this.$message.error(\"删除用户失败\");\r\n      this.$message.success(\"删除用户成功\");\r\n      this.getUsersList();\r\n    },\r\n    // 分配角色对话框\r\n    async setRole(userInfo) {\r\n      this.userInfo = userInfo;\r\n      // 在展示对话框之前获取所有列表\r\n      const { data: res } = await this.$http.get(\"roles\");\r\n      if (res.meta.status !== 200)\r\n        return this.$message.error(\"获取角色列表失败\");\r\n\r\n      this.rolelist = res.data;\r\n      this.setRoleDialogVisible = true;\r\n    },\r\n    // 点击按钮分配角色\r\n    async saveRoleInfo() {\r\n      if (!this.selectRoleId)\r\n        return this.$message.error(\"请选择要分配的新角色\");\r\n      const {\r\n        data: res,\r\n      } = await this.$http.put(`users/${this.userInfo.id}/role`, {\r\n        rid: this.selectRoleId,\r\n      });\r\n      if(res.meta.status!==200)return this.$message.error('更新角色失败')\r\n      this.$message.success('更新角色成功')\r\n      this.getUsersList()\r\n      this.setRoleDialogVisible=false\r\n    },\r\n    // 监听分配角色对话框的关闭事件\r\n    setRoleDialogClosed(){\r\n      this.selectRoleId=''\r\n      this.userInfo={}\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}