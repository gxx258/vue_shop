{"remainingRequest":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\CodePath\\项目实战\\code\\vue-shop2\\src\\components\\goods\\List.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\src\\components\\goods\\List.vue","mtime":1604023401629},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\CodePath\\项目实战\\code\\vue-shop2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHF1ZXJ5SW5mbzogew0KICAgICAgICBxdWVyeTogIiIsDQogICAgICAgIHBhZ2VudW06IDEsDQogICAgICAgIHBhZ2VzaXplOiA0LA0KICAgICAgfSwNCiAgICAgIC8vIOWVhuWTgeWIl+ihqA0KICAgICAgZ29vZHNsaXN0OiBbXSwNCiAgICAgIHRvdGFsOiAwLA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRHb29kc0xpc3QoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vICAg5qC55o2u5YiG6aG16I635Y+W5a+55bqU55qE5Y+C5pWw5YiX6KGoDQogICAgYXN5bmMgZ2V0R29vZHNMaXN0KCkgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCJnb29kcyIsIHsNCiAgICAgICAgcGFyYW1zOiB0aGlzLnF1ZXJ5SW5mbywNCiAgICAgIH0pOw0KICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bllYblk4HliJfooajlpLHotKUiKTsNCiAgICAgIH0NCiAgICAgIC8vICBjb25zb2xlLmxvZygnampqaicpOw0KICAgIC8vICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgdGhpcy5nb29kc2xpc3QgPSByZXMuZGF0YS5nb29kczsNCiAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsNCiAgICB9LA0KICAgIGhhbmRsZVNpemVDaGFuZ2UobmV3U2l6ZSkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZXNpemUgPSBuZXdTaXplOw0KICAgICAgdGhpcy5nZXRHb29kc0xpc3QoKTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZW51bSA9IG5ld1BhZ2U7DQogICAgICB0aGlzLmdldEdvb2RzTGlzdCgpOw0KICAgIH0sDQogICAgLy8g54K55Ye75Yig6Zmk5oyJ6ZKu5pON5L2cDQogICAgYXN5bmMgcmVtb3ZlQnlJZChpZCkgew0KICAgICAgY29uc3QgY29uZmlybVJlc3VsdCA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oDQogICAgICAgICLmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6Xmlofku7YsIOaYr+WQpue7p+e7rT8iLA0KICAgICAgICAi5o+Q56S6IiwNCiAgICAgICAgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwNCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICAgIH0NCiAgICAgICkuY2F0Y2goKGVycikgPT4gZXJyKTsNCiAgICAgIGlmIChjb25maXJtUmVzdWx0ICE9PSAiY29uZmlybSIpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuaW5mbygi5bey5Y+W5raI5Yig6ZmkIik7DQogICAgICB9DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5kZWxldGUoYGdvb2RzLyR7aWR9YCk7DQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTlpLHotKUiKTsNCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7DQogICAgICB0aGlzLmdldEdvb2RzTGlzdCgpOw0KICAgIH0sDQogICAgZ29BZGRQYWdlKCl7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZ29vZHMvYWRkJykNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/components/goods","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品分类</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片区域 -->\r\n    <el-card class=\"box-card\">\r\n      <el-row :gutter=\"20\">\r\n        <!-- 搜索框区域 -->\r\n        <el-col :span=\"8\">\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"queryInfo.query\"\r\n            clearable\r\n            @clear=\"getGoodsList\"\r\n          >\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              @click=\"getGoodsList\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <!-- 添加用户按钮区域 -->\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"goAddPage\">添加商品</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- table表格区域 -->\r\n      <el-table :data=\"goodslist\" border stripe>\r\n        <el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n        <el-table-column\r\n          label=\"商品名称\"\r\n          prop=\"goods_name\"\r\n          width=\"770px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          label=\"商品价格(元)\"\r\n          prop=\"goods_price\"\r\n          width=\"70px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          label=\"商品重量\"\r\n          prop=\"goods_weight\"\r\n          width=\"70px\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"创建事件\" prop=\"add_time\" width=\"420px\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.add_time | dateFormat }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-edit\"\r\n            ></el-button>\r\n            <el-button\r\n              type=\"danger\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-delete\"\r\n              @click=\"removeById(scope.row.goods_id)\"\r\n            ></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pagenum\"\r\n        :page-sizes=\"[3, 5, 7, 10]\"\r\n        :page-size=\"queryInfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        background\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      queryInfo: {\r\n        query: \"\",\r\n        pagenum: 1,\r\n        pagesize: 4,\r\n      },\r\n      // 商品列表\r\n      goodslist: [],\r\n      total: 0,\r\n    };\r\n  },\r\n  created() {\r\n    this.getGoodsList();\r\n  },\r\n  methods: {\r\n    //   根据分页获取对应的参数列表\r\n    async getGoodsList() {\r\n      const { data: res } = await this.$http.get(\"goods\", {\r\n        params: this.queryInfo,\r\n      });\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error(\"获取商品列表失败\");\r\n      }\r\n      //  console.log('jjjj');\r\n    //   console.log(res.data);\r\n      this.goodslist = res.data.goods;\r\n      this.total = res.data.total;\r\n    },\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pagesize = newSize;\r\n      this.getGoodsList();\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pagenum = newPage;\r\n      this.getGoodsList();\r\n    },\r\n    // 点击删除按钮操作\r\n    async removeById(id) {\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将永久删除该文件, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n      if (confirmResult !== \"confirm\") {\r\n        return this.$message.info(\"已取消删除\");\r\n      }\r\n      const { data: res } = await this.$http.delete(`goods/${id}`);\r\n      if (res.meta.status !== 200) return this.$message.error(\"删除失败\");\r\n      this.$message.success(\"删除成功\");\r\n      this.getGoodsList();\r\n    },\r\n    goAddPage(){\r\n        this.$router.push('/goods/add')\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}